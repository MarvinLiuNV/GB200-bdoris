SETTINGS:
  name: GB200

VARS:
  CLUSTER_NAME: "L40S"
  CONFIGURATION: "RDMA_BF3_MINI_RUN_NICFW_32_46_1006_DOCA_091220"
  #CONFIGURATION: "new_RDMA_CX8_MINI_RUN_NICFW_45_5014_DOCA_058452_MRC_0177_GPU_RC_33"
  TAGS: "REL2A_MINI_Regression"

  MONITOR_INTERFACE: mlx5_2,mlx5_3
  NICS: mlx5_2,mlx5_3

  RACK_A: "clx-l40s-[07,08]"
  RACK_B: "clx-l40s-[11,12]"
  all_hosts: "clx-l40s-[01-04]"
  SLURM_PARTITION: "L40S"

  NCCL_EXP_BW: 30
  CONTAINER: "/mswg2/E2E/Regression_logs/squash/nccl_v2.24.3-1"
  NCCL_SOCKET: "enp3s0f0"
  MELLANOX_VISIBLE_DEVICES: "2,3"
  CUDA_VISIBLE_DEVICES: "0,1,2,3"
  NCCL_IB_HCA: "mlx5_2:1,mlx5_3:1"
  NTASKS_PER_NODE: 4
  NUM_GPUS: 4

JOBS:
- node_nccl_health_check.yaml --CLUSTER_NAME={CLUSTER_NAME} --CONFIGURATION={CONFIGURATION} --TAGS={TAGS} --INTERFACE={MONITOR_INTERFACE} --RACK_A={RACK_A} --RACK_B={RACK_B}
  --SLURM_PARTITION={SLURM_PARTITION} --NCCL_SOCKET={NCCL_SOCKET} --MELLANOX_VISIBLE_DEVICES={MELLANOX_VISIBLE_DEVICES} --NCCL_EXP_BW={NCCL_EXP_BW}
  --CUDA_VISIBLE_DEVICES={CUDA_VISIBLE_DEVICES} --NCCL_IB_HCA={NCCL_IB_HCA} --NTASKS_PER_NODE={NTASKS_PER_NODE} --NUM_GPUS={NUM_GPUS}
#- rack_wonvlink_health_check.yaml --CLUSTER_NAME={CLUSTER_NAME} --CONFIGURATION={CONFIGURATION} --TAGS={TAGS} --INTERFACE={MONITOR_INTERFACE} --RACK_A={RACK_A}  --RACK_B={RACK_B}
#-rack_wo_mnnvl_health_check.yaml --CLUSTER_NAME={CLUSTER_NAME} --CONFIGURATION={CONFIGURATION} --TAGS={TAGS} --INTERFACE={MONITOR_INTERFACE} --RACK_A={RACK_A}  --RACK_B={RACK_B}
#  --SLURM_PARTITION={SLURM_PARTITION} --NCCL_SOCKET={NCCL_SOCKET} --MELLANOX_VISIBLE_DEVICES={MELLANOX_VISIBLE_DEVICES} --NCCL_EXP_BW={NCCL_EXP_BW}
#  --CUDA_VISIBLE_DEVICES={CUDA_VISIBLE_DEVICES} --NCCL_IB_HCA={NCCL_IB_HCA} --NTASKS_PER_NODE={NTASKS_PER_NODE} --NUM_GPUS={NUM_GPUS}
#- rdma_health_check.yaml --CLUSTER_NAME={CLUSTER_NAME} --CONFIGURATION={CONFIGURATION} --TAGS={TAGS} --INTERFACE={MONITOR_INTERFACE} --NICS={NICS} --RACK_A={RACK_A} --RACK_B={RACK_B}
